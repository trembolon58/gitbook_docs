# Одноклассники

В отличие от других мессенджеров, **чат-бот в Одноклассниках запускается сразу после перехода по ссылке** на бота, за исключением администратора группы.

Рекомендуется использовать прокси-ссылку из раздела "Минилендиги", чтобы была возможность передавать UTM-метки и дополнительные параметры.

* [Как подключить Одноклассники](odnoklassniki.md#poluchenie-klyucha-dostupa)
* [Пример работы чат-бота в Одноклассниках](odnoklassniki.md#primer-raboty-chat-bota-v-odnoklassnikakh)
* [Рекомендации по размещению прокси-ссылки Salebot в таргете рекламных кабинетов Одноклассников и MyTarget](odnoklassniki.md#kak-ne-slit-reklamnyi-byudzhet)

## Как подключить Одноклассники <a href="#poluchenie-klyucha-dostupa" id="poluchenie-klyucha-dostupa"></a>

Для работы с Bot API от имени группы необходимо получить специальный ключ доступа.‌

**Ключ доступа (или токен)** — это строка, включающая латинские буквы, цифры и специальные символы.‌

Администратор группы может получить ключ доступа (токен) в разделе Настройки группы на полной версии сайта.‌

Чтобы получить ключ, надо:‌

**1. Открыть раздел «Настройки»**&#x200C;

![](https://gblobscdn.gitbook.com/assets%2F-LxKl4rC_EcwBAz40Qn_%2F-M4Zhwq21gVjFb9EQkFs%2F-M4Zj8CoGkz8rCuYsMxQ%2Fimage.png?alt=media\&token=dde835e2-ae2f-4e37-b0ba-ec73d9ad2730)

**2. Выбрать вкладку «Сообщения»**&#x200C;

![](https://gblobscdn.gitbook.com/assets%2F-LxKl4rC_EcwBAz40Qn_%2F-M4Zhwq21gVjFb9EQkFs%2F-M4ZjExKff8LV1TuMYaq%2Fimage.png?alt=media\&token=f919d89e-ecad-47b4-a939-ef34129550f0)

**3. В строке «Сообщения отправлять могут» выберите «Гости и участники»**

{% hint style="danger" %}
Если пропустить этот шаг, то **чат-бот РАБОТАТЬ НЕ БУДЕТ.**
{% endhint %}

![](<../../.gitbook/assets/image (34) (1) (1) (1).png>)

**4. В строчке «Работа с API» нажать на кнопку «Получить ключ доступа»**&#x200C;

![](<../../.gitbook/assets/image (35) (1) (1) (1).png>)

**5. Подтвердить ваш выбор**‌

![](https://gblobscdn.gitbook.com/assets%2F-LxKl4rC_EcwBAz40Qn_%2F-M4Zhwq21gVjFb9EQkFs%2F-M4ZjQ_yRb9iKBNBygCP%2Fimage.png?alt=media\&token=0021932a-52be-419e-bb75-4b7f3c71f6b7)

**6. Скопировать токен**‌

![](https://gblobscdn.gitbook.com/assets%2F-LxKl4rC_EcwBAz40Qn_%2F-M4Zhwq21gVjFb9EQkFs%2F-M4ZjYhIleMC8RCCTIEq%2Fimage.png?alt=media\&token=94e8e2f5-ac52-4b8d-ac8a-62ec9029b463)

**7. Вставить в форму подключения Одноклассников в Salebot.pro**‌

![](https://gblobscdn.gitbook.com/assets%2F-LxKl4rC_EcwBAz40Qn_%2F-M4Zhwq21gVjFb9EQkFs%2F-M4ZkAPRVgHWxmr9X8Z6%2Fimage.png?alt=media\&token=3d71ef90-fb64-43a2-b104-9b08be2b5f17)

### Ошибки

<figure><img src="../../.gitbook/assets/444.png" alt=""><figcaption></figcaption></figure>

Данная ошибка говорит пользователю о том, что истек срок действия ключа и его необходимо обновить.

{% hint style="danger" %}
Токен живет 30 дней со дня последнего использования.&#x20;
{% endhint %}

{% hint style="warning" %}
Если вы уже получали ранее ключ доступа для группы, то при генерации нового ключа - старый станет недействительным.‌
{% endhint %}

{% embed url="https://www.youtube.com/watch?v=9izS7W2E2Go" %}

## Пример работы чат-бота в Одноклассниках <a href="#primer-raboty-chat-bota-v-odnoklassnikakh" id="primer-raboty-chat-bota-v-odnoklassnikakh"></a>

‌

Ниже представлены фотографии сообщений, файлов, изображений, кнопок, отправленных ботом.

![Отправленное изображение](https://gblobscdn.gitbook.com/assets%2F-LxKl4rC_EcwBAz40Qn_%2F-M4Zhwq21gVjFb9EQkFs%2F-M4ZkW91ZNfIehjnoStX%2Fimage.png?alt=media\&token=c648973d-6b85-4ab9-b220-1d4195e92af7)

![Внешний вид кнопок одноклассников‌](https://gblobscdn.gitbook.com/assets%2F-LxKl4rC_EcwBAz40Qn_%2F-M4Zhwq21gVjFb9EQkFs%2F-M4Zko78oev8jV81v2Kk%2Fimage.png?alt=media\&token=f1b9d857-d7de-4fa2-943b-db722b0c8a4e)

В одноклассниках отсутствуют постоянные кнопки. Можно задать только оранжевый и серый цвета для кнопок.

![Отправка файлов](https://gblobscdn.gitbook.com/assets%2F-LxKl4rC_EcwBAz40Qn_%2F-M4bw4oJtrWf3PzswfPQ%2F-M4bwV9RFIhuUndnzdQg%2Fimage.png?alt=media\&token=3e8ca184-c1a4-4023-824e-00720bdbe725)

## Как не слить рекламный бюджет

Рекомендации по размещению прокси-ссылки Salebot в таргете рекламных кабинетов Одноклассников и MyTarget.

### Проблема

{% hint style="danger" %}
Обнаружен баг одноклассников: при переходе **с мобильных устройств iOS** ссылка открывает диалог не в мобильном приложении Одноклассников, а выкидывает в браузер и предлагает ввести логин там.\
Соответственно — здесь конверсия будет стремиться к нулю.\
По словам технических специалистов Одноклассников, **исправить эту оплошность для айосов они не смогут**.
{% endhint %}

Если НИЧЕГО НЕ ДЕЛАТЬ с этим, то вы потеряете небольшой процент трафика с рекламы (корректно будет работать ссылка в декстопе, мобильной веб версии сайта и с приложений на Android) По официальным данным: Одноклассники на iOS используют не так много пользователей:

![](<../../.gitbook/assets/image (36) (1) (1) (1).png>)

### Как это обойти?

{% hint style="success" %}
Чтобы полноценно использовать Salebot в одноклассниках с любого устройства, **необходимо пропустить прокси-ссылку через сокращатель** [**OK.ME**](https://ok.me) и затем размещать в рекламе.
{% endhint %}

В таком случае, независимо от того, с какого именно устройства видит рекламу ваш потенциальный клиент — если он кликнет по ссылке в объявлении, то его перекинет в диалог и запустится бот.

### Инструкция

В разделе минилендинги найти прокси-ссылку Одноклассников.

Вставляем её в строку [на странице сокращателя OK.ME](https://ok.me) и дописываем необходимые параметры и метки. Нажимаем «Сократить ссылку».

Забираем готовую сокращенную ссылку для рекламы и размещаем в постах.

В итоге при клике по ссылке в рекламном посте у пользователя открывается диалог с вашей группой и запускается бот. А в карточке клиента в Salebot сохраняются все указанные метки.

### Какие особенности ботов в ОК (FAQ)

**Статистика кликов в кабинете и диалогов в боте не совпадает**\
Кликом в MyTarget считается клик по любому месту рекламного объявления (то есть не только по ссылке в посте, но и переход в группу/открытие полностью поста и тд). Поэтому не удивляйтесь, если в рекламном кабинете у вас может отображаться в разы больше кликов, чем запущенных диалогов в боте.

**Динамические параметры не поддерживаются**\
Об этой проблеме технические специалисты Одноклассников знают, обещают добавить в ближайшее время.
