# Кнопки и вложения в \*\*\*stagram\*

{% hint style="danger" %}
\***Принадлежат компании Meta Platforms Inc**., которая признана **на территории Российской Федерации&#x20;**<mark style="color:red;">**экстремистской и**</mark> <mark style="color:red;">**запрещена!**</mark>&#x20;
{% endhint %}

{% hint style="danger" %}
Мы не призываем Пользователей к использованию ресурса.

Помните!

1. Действия, связанные с приобретением товаров или услуг у запрещенной организации могут быть расценены как финансирование экстремистской деятельности, согласно ст. 282.3 УК РФ.
2. Также с 1 сентября 2025 запрещено распространять рекламу на информационных ресурсах тех организаций, деятельность которых запрещена в РФ (согласно ч. 3 ст. 12 ФЗ от 25 июля 2002 № 114-ФЗ).
{% endhint %}

## **Как работать с кнопками**

{% hint style="info" %}
Instagram<mark style="color:red;">**\***</mark> не поддерживает одновременную отправку inline и reply кнопок
{% endhint %}

### **Клавиатурные (reply)**

{% hint style="success" %}
Instagram<mark style="color:red;">\*</mark> поддерживает до 11 кнопок reply
{% endhint %}

{% hint style="info" %}
Кнопки могут располагаться только в линию
{% endhint %}

<figure><img src="../../../.gitbook/assets/кнопки клавиатура.png" alt="" width="329"><figcaption></figcaption></figure>

<figure><img src="../../../.gitbook/assets/photo1675627505.jpeg" alt="" width="450"><figcaption></figcaption></figure>

### В тексте (inline)

<figure><img src="../../../.gitbook/assets/кнопки текст.png" alt="" width="331"><figcaption></figcaption></figure>

<figure><img src="../../../.gitbook/assets/photo1675627766.jpeg" alt="" width="375"><figcaption></figcaption></figure>

{% hint style="info" %}
Instagram<mark style="color:red;">\*</mark> поддерживает не более 3 кнопок inline
{% endhint %}

<figure><img src="../../../.gitbook/assets/кнопки текст ошибка.png" alt=""><figcaption></figcaption></figure>

Кнопки могут вести на сторонние ресурсы. Визуально эти кнопки ничем не отличаются.

{% hint style="info" %}
Как настраивать кнопки, смотрите в статьях "[Вкладка: Кнопки](/broken/pages/mEiHpf4gAofvQxjN0pPh)" и "[Типы кнопок"](/broken/pages/xeepnRj969zW3xRimkdg).
{% endhint %}

## **Как задать вводные фразы**

Вводные фразы позволяют человеку начать беседу с компанией, используя список часто задаваемых запросов. Можно задать до четырех запросов.

<figure><img src="https://lh6.googleusercontent.com/T6fBICMg8fKxUw7kcicBSFrgxmhnVkOUhBSO65oW3CskwWwq2o1b1kIIrsSWQyx-e4MHs__MZEPO3Jfk90vxdq9TaliWrfEsEnqAFkEG2y7pR7LYX6-d-YaaKDrMaDiVQKQAapWihGej6OqQkqDhZWA" alt="" width="375"><figcaption></figcaption></figure>

Для настройки вводных фраз необходимо поставить бегунок в подключенном аккаунте Instagram<mark style="color:red;">\*</mark>, в разделе "Каналы"

<figure><img src="https://lh6.googleusercontent.com/wdiYb0MnrG4svTIJZ3ecXI25RUzh1PzA-kK5YRjtMDtWrX5jgHS6eSN-jz1Y04ZTvKI3-EZDOfzdGw80xsnNm4RzvXhHVkf07hUsuOcBsYg6VKYlByRMhloGddE7nFWAxg-eRO65Hlh2a8JE8RGVGyg" alt=""><figcaption></figcaption></figure>

При нажатии на этот бегунок появляется всплывающее окно, где можно задать нужные вводные фразы

<figure><img src="https://lh5.googleusercontent.com/MX6IduySaMus7uBHuekYSOezgnw4KCYJW_WQiRxn0DfO-G6BYyLj3cFLIIFjqBPo0bS7fly0SiBKeCZCMmQvRGIRot0FJLSdAQu_LVVg2us8yH_UqxgFMx3g533fN2Y4p5PnwebC9pf9FsOVfvtlUUA" alt=""><figcaption></figcaption></figure>

После этого в вашей воронке настраиваете реакцию на фразы — нужные блоки переводите в состояние "Первостепенная проверка условия" и в условие записываете текст вводной фразы.

{% hint style="warning" %}
<mark style="color:red;">**Внимание!**</mark> Вводные фразы появляются у пользователей, которые ранее не контактировали с вашим аккаунтом Instagram\* (или в случае полного удаления предыдущего диалога)
{% endhint %}

## **Как работать с вложениями**

В сообщении можно отправлять вложения.  Подробно о том, какие вложения и как добавлять  описано в  разделе документации  [Отправка вложений. Отслеживание перехода по ссылкам](/broken/pages/-LxuPG8zMq42ZhsWKXOK)

&#x20;                                            &#x20;

<figure><img src="https://lh5.googleusercontent.com/cJ74nA0TTbXW6QKb9z1GFcIFDzr29LtSWFfHFa7qUONIfPo0u-lzjpZAojjJ2R3wedgcvjGCYseqUxSPB6ZBB70wSwVxsKsCBwkSpHDq7wRhD7JLK1Gj4krjEIksBj8Qx3ffjh3zvlhFW2FZ3zGMkQ" alt=""><figcaption></figcaption></figure>

<figure><img src="https://lh4.googleusercontent.com/Ttk5o9-y-aVyPL3l3OSnbvmpZNJp9gBw8WzMpCl98wsDVkB5YWPbfWcPsrnsr3jeZHuF7AilWNyoJ7YgJbYsJXhTTYRJBJNKx30H-Vh6oE8YAZ-7lSv2OkBcICewYeQCvHzd3oliuOWcMekm9bcgog" alt=""><figcaption></figcaption></figure>

<figure><img src="../../../.gitbook/assets/photo1675628125.jpeg" alt=""><figcaption></figcaption></figure>

{% hint style="warning" %}
В блок можно загружать вложения файлом или используя ссылку на файл.&#x20;

Загружаемый  видео файл должен быть не больше 20 MB, аудио и изображение  до 5 МВ.
{% endhint %}

**Требования к вложениям:**

| Тип медиафайла | Поддерживаемый формат | Максимальный размер |
| -------------- | --------------------- | ------------------- |
| Аудио          | M4A                   | 5 МБ                |
| Изображение    | JPEG, PNG             | 5 МБ                |
| Видео          | MP4                   | 20 МБ               |

{% hint style="warning" %}
Для аудио вложений НЕ рекомендуется использовать формат mp4, а в формате mp3 аудио не будет отправлено вообще.
{% endhint %}

## **Как создать карусель**

Как сделать такую карусель в Direct:

&#x20;                                     <img src="../../../.gitbook/assets/image (36).png" alt="" data-size="original">

{% hint style="success" %}
В карусели может быть от 2 до 10 карточек(слайдов).
{% endhint %}

Рассмотрим на примере карусели из 3 карточек. Для создания карточек вам нужно в поле "Калькулятор" написать следующее:

p = \[{"title":"ЗАГОЛОВОК", "description": "ОПИСАНИЕ КАРТОЧКИ 1", "image": "ССЫЛКА НА КАРТИНКУ 1", "buttons":\[{"text":"ТЕКСТ КНОПКИ 1"}]},{"title":"ЗАГОЛОВОК", "description": "ОПИСАНИЕ КАРТОЧКИ 2", "image": "ССЫЛКА НА КАРТИНКУ 2", "buttons":\[{"text":"ТЕКСТ КНОПКИ 2"}]}, {"title":"ЗАГОЛОВОК", "description": "ОПИСАНИЕ КАРТОЧКИ 3", "image": "ССЫЛКА НА КАРТИНКУ 3", "buttons":\[{"text":"ТЕКСТ КНОПКИ 3"}]}]                                               &#x20;

r = send\_carousel(p, '')                                        &#x20;

<figure><img src="../../../.gitbook/assets/карусель.png" alt=""><figcaption></figcaption></figure>

{% hint style="info" %}
Обратите внимание: выражение r = send\_carousel(p, '') - должно быть с новой строки в калькуляторе
{% endhint %}

То есть сначала записываем массив с title, description, image, buttons в переменную p (вы можете назвать переменную иначе), а далее используем ее в методе send\_carousel(p, '')                             &#x20;

В поле "Ответ" оставляет #{None}:                                         &#x20;

<figure><img src="../../../.gitbook/assets/карусель1.png" alt=""><figcaption></figcaption></figure>

{% hint style="info" %}
В кнопки карточек карусели вы можете вставлять ссылки, тогда при нажатии на кнопку пользователь перейдет по ссылке
{% endhint %}

Чтобы вставить ссылку в кнопку на карточке, запишите в массив:

p = \[{"title":"заголовок", "description": "ОПИСАНИЕ КАРТОЧКИ 1", "image": "ССЫЛКА НА КАРТИНКУ 1", "buttons":\[{"text":"ТЕКСТ КНОПКИ 1", "url":"ССЫЛКА ДЛЯ КНОПКИ" }]}]

&#x20;                                      ![](<../../../.gitbook/assets/image (1) (1).png>)

&#x20;                                     <img src="../../../.gitbook/assets/image (2) (1).png" alt="" data-size="original">

{% hint style="info" %}
В кнопки карточек карусели добавлен еще один необязательный параметр payload, который не будет отображаться клиенту, но позволит проанализировать сделанный клиентом выбор&#x20;
{% endhint %}

Поскольку часто требуется размещение карточек карусели с одинаковым текстом кнопки, то был добавлен еще один параметр **payload**, который не будет отображаться клиенту, но позволит проанализировать сделанный им выбор:

<figure><img src="../../../.gitbook/assets/image (3) (1).png" alt=""><figcaption></figcaption></figure>

<figure><img src="../../../.gitbook/assets/image (4) (1).png" alt=""><figcaption></figcaption></figure>

Обратите внимание на правильность его применения:\
p = \[{"title":"заголовок", "description": "ОПИСАНИЕ КАРТОЧКИ 1", "image": "ССЫЛКА НА КАРТИНКУ 1", "buttons":\[{"text":"ТЕКСТ КНОПКИ 1"**,"payload":"1"**}]},{"title":"заголовок", "description": "ОПИСАНИЕ КАРТОЧКИ 2", "image": "ССЫЛКА НА КАРТИНКУ 2", "buttons":\[{"text":"ТЕКСТ КНОПКИ 1"**,"payload":"2"**}]}, {"title":"заголовок", "description": "ОПИСАНИЕ КАРТОЧКИ 3", "image": "ССЫЛКА НА КАРТИНКУ 3", "buttons":\[{"text":"ТЕКСТ КНОПКИ 1"}]}]&#x20;

Параметр **payload** - может быть опущен, как показано на рисунке в кнопке 3
