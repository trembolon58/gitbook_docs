# Как работать с блоками

{% hint style="info" %}
Salebot позволяет создавать чат-бот, прорисовывая его структуру в виде блок-схемы, состоящей из блоков и стрелок.&#x20;
{% endhint %}

**Блоки** - это структура, описывающая действие или событие, которое должно быть обработано/выполнено ботом. В блоке в том числе может содержаться текст сообщения, которое будет направляться вашему клиенту в боте.

{% hint style="danger" %}
Обращаем внимание!

Ограничения по блокам:

1. Суммарный лимит в схеме не более 500 шт. для блоков с условием: количество блоков "Стартовое условие" + "Не состояние с условием" не должно превышать 500 шт. в одном проекте.
2. Другие блоки неограничено.
{% endhint %}

**Стрелки** - это соединение между блоками, в которых можно отразить условие и/или точное время перехода в следующий блок.&#x20;

{% hint style="info" %}
Всего существует 5 типов блоков: условные и безусловные. Также существует Блок "Комментарий", который не является блоком для отправки сообщений (нужен только для рабочей области в конструкторе)

Условные блоки выполняют функцию запуска бота при определенных условиях.\
Безусловные блоки работают только при переходе в них через стрелки или callback'и (с которыми мы с вами познакомимся позже)
{% endhint %}

{% hint style="warning" %}
Обращаем внимание!&#x20;

1. У блоков и стрелок существует приоритет выполнения!
2. Первыми всегда отработаются блоки, у которых установлено условие!&#x20;

Приоритет блоков и стрелок:

1. Самым первым всегда отрабатывается блок "Стартовое условие":

Сначала отработается блок "Стартовое условие", у которого в поле условия указано триггерное значение для старта воронки, затем отработается блок "Стартовое условие", в котором условия нет (если он существует).

2. Далее отработается стрелка (если клиент уже в воронке) из блока, в котором сейчас клиент
3. Блок "Не состояние с условием"
4. Если ответа не нашлось и включен ИИ Ассистент, то отвечает ассистент (если условие для запуска позволяет)
{% endhint %}

<figure><img src="../../../.gitbook/assets/Снимок экрана 2025-06-27 в 11.37.19.png" alt=""><figcaption></figcaption></figure>

Все блоки имеют однотипную структуру:

Каждый блок содержит перечень разделов, который вы можете включить/отключить при желании:

<figure><img src="../../../.gitbook/assets/Снимок экрана 2025-04-21 в 17.12.38.png" alt=""><figcaption></figcaption></figure>

**Раздел Сообщение** _позволяет указать текст сообщения. В тексте можно использовать переменные, для их вывода используйте конструкцию #{имя\_переменной}_

<figure><img src="../../../.gitbook/assets/Снимок экрана 2025-04-21 в 17.13.32.png" alt="" width="563"><figcaption></figcaption></figure>

**Раздел Вложение** _позволяет загрузить вложение или указать на него ссылку (ссылка, изображение, видео, аудио, файл) для отправки клиенту ботом_

<figure><img src="../../../.gitbook/assets/Снимок экрана 2025-04-21 в 17.14.27.png" alt="" width="563"><figcaption></figcaption></figure>

**Раздел Кнопки** _позволяет задать настройки кнопок для бота_

<figure><img src="../../../.gitbook/assets/Снимок экрана 2025-04-21 в 17.15.25.png" alt="" width="563"><figcaption></figcaption></figure>

**Раздел Действие** позволяет указать вспомогательные действия для бота (добавление, перемещение или удаление клиента из списка и перемещение в некое состояние воронки CRM)

<figure><img src="../../../.gitbook/assets/Снимок экрана 2025-04-21 в 17.16.16.png" alt="" width="563"><figcaption></figcaption></figure>

**Раздел Калькулятор** позволяет производить вычисляемые действия в процессе работы бота, а также выполнение различных функций (например, выставить ссылку на оплату, приостановить работу бота, очистить диалог с клиентом и многое другое):

<figure><img src="../../../.gitbook/assets/Снимок экрана 2025-04-21 в 17.17.43.png" alt="" width="563"><figcaption></figcaption></figure>

**Раздел API-запрос** позволяет выполнять различные виды запросов, в том числе скрипты:

<figure><img src="../../../.gitbook/assets/Снимок экрана 2025-04-21 в 17.19.55.png" alt="" width="563"><figcaption></figcaption></figure>

**Раздел Условие** доступен только для условных блоков и позволяет задать ключи/условия, на которые должен реагировать бот для запуска воронки

<figure><img src="../../../.gitbook/assets/Снимок экрана 2025-06-27 в 11.33.23.png" alt="" width="563"><figcaption></figcaption></figure>

_К условным блокам относятся блок первостепенной проверки условия, блок Начало диалога и блок Не состояние с условием_

## Меню блока

* **основное меню**

_Для каждого блока есть основное меню, из которого можно создать петлю, создать новый связанный блок (по умолчанию блок Состояние диалога), пересчитать статистику или создать рассылку данного блока_

<figure><img src="../../../.gitbook/assets/Снимок экрана 2025-04-21 в 17.21.40.png" alt=""><figcaption></figcaption></figure>

* **всплывающее меню**

_Для каждого блока есть всплывающее меню, позволяющее выполнить определенные действия над блоком_, в частности:&#x20;

<figure><img src="../../../.gitbook/assets/Снимок экрана 2025-04-21 в 17.22.48.png" alt="" width="563"><figcaption></figcaption></figure>

* копирование блока:

<figure><img src="../../../.gitbook/assets/Снимок экрана 2025-04-21 в 17.23.29.png" alt="" width="563"><figcaption></figcaption></figure>

* удаление&#x20;

<figure><img src="../../../.gitbook/assets/Снимок экрана 2025-04-21 в 17.24.09.png" alt="" width="563"><figcaption></figcaption></figure>

* копирование блока с присоединением&#x20;

<figure><img src="../../../.gitbook/assets/Снимок экрана 2025-04-21 в 17.25.16.png" alt="" width="563"><figcaption></figcaption></figure>

* перенос на другой лист

<figure><img src="../../../.gitbook/assets/Снимок экрана 2025-04-21 в 17.26.23.png" alt="" width="563"><figcaption></figcaption></figure>

{% hint style="success" %}
Приоритет блоков/переходов по убыванию:

·  Стартовое условие

·  Стрелка (соединение)

·  Не состояние с условием
{% endhint %}

Давайте более близко познакомимся с каждым из типов блоков: как их создавать и для чего они нужны?&#x20;

Для создания первого блока достаточно кликнуть 2 раза левой кнопкой мыши на рабочем пространстве редактора: по умолчанию, если у вас еще нет блоков в конструкторе, создается блок "Стартовое условие", если блоки уже существует в схеме, то будет создан Блок "Состояние".

{% hint style="info" %}
Подробнее о каждом типе блока рассказали в статьях "[Блоки с условием](/broken/pages/VktePfPMzzJlbjBSqE93)", "[Блоки Не состояние](/broken/pages/-M1G0tS64N7tDTadS8Ao)", "Блоки без условия".
{% endhint %}

## Видеоурок: Блоки. Подробный разбор настроек блока. Их виды и отличия

{% embed url="https://www.youtube.com/watch?v=5M55OAw2NEs" %}
