# Как создать чат-бота

Каждый чат-бот, собранный на Сейлбот, так или иначе состоит из блоков:

<figure><img src="../../../.gitbook/assets/Снимок экрана 2025-04-21 в 10.06.18.png" alt="" width="375"><figcaption></figcaption></figure>

Блок - это своеобразный набор команд для чат-бота, настройки которого установлены вами либо разработчиками чат-ботов для вашего проекта.&#x20;

Из каждого блока чат-бот берет инструкцию, каким образом ему нужно отработать или на что отреагировать, а затем куда дальше по воронке пойдет клиент.&#x20;

<figure><img src="../../../.gitbook/assets/Снимок экрана 2025-06-27 в 10.19.59.png" alt=""><figcaption><p>Красным цветом выделена рабочая область, где создается<br>схема чат-бота</p></figcaption></figure>

## Как создать блок

Научиться создавать блоки в конструкторе чат-бота очень просто: достаточно два раза кликнуть по рабочей области левой кнопкой мыши два раза и Ваш блок будет создан.

<figure><img src="../../../.gitbook/assets/Запись экрана 2025-06-27 в 09.42.22.gif" alt="" width="563"><figcaption></figcaption></figure>

Блок (блоки) можно перемещать в любую область поля конструктора, тем самым оптимизировать схему, а также придать ей более аккуратный вид.

Для наглядности приведем случайную схему и поговорим о редакторе, ссылаясь на нее.

<figure><img src="../../../.gitbook/assets/Снимок экрана 2025-06-26 в 14.21.26.png" alt=""><figcaption></figcaption></figure>

Перед вами схема чат-бота. Схема состоит из блоков и стрелок, которые соединяют блоки между собой.

**Диалог в воронке всегда начинается с зелёных блоков — Стартовое условие.** Написав сообщение или нажав на кнопку, пользователь может перейти из одного блока в другой при соблюдении условия такого перехода. Условия бывают у блоков и стрелок.&#x20;

<figure><img src="../../../.gitbook/assets/Снимок экрана 2025-06-27 в 10.21.19.png" alt=""><figcaption></figcaption></figure>

Чтобы бот запускался по клику на кнопку "Начать" в Телеграме (или любом другом мессенджере), необходимо прописать триггерное слово в блоке с условием.

<figure><img src="../../../.gitbook/assets/Снимок экрана 2025-04-21 в 10.41.39.png" alt="" width="375"><figcaption><p>Кнопка "Начать" - это сочетание "/start" для ТГ</p></figcaption></figure>

Блоки с условиями бывают зеленого и серого цвета:

<figure><img src="../../../.gitbook/assets/Снимок экрана 2025-06-27 в 10.22.16.png" alt="" width="563"><figcaption></figcaption></figure>

Всего существует два блока с условием:

1. Стартовое условие;
2. Не состояние с условием.

Блок первостепенной проверки условия имеет наивысший приоритет среди всех блоков - это значит, что он отработается самым первым, если его условие будет удовлетворять каким-либо действиям клиента.

<figure><img src="../../../.gitbook/assets/Снимок экрана 2025-06-27 в 10.23.07.png" alt=""><figcaption></figcaption></figure>

{% hint style="info" %}
Подробнее о том, как правильно работать с условиями, рассказали в статье "[Условие и выбор соответствия](/broken/pages/-M5QU0ZLA1A6QhyOaMzP)".&#x20;
{% endhint %}

Блок "Не состояние с условием" являются блоком типа "Не состояние": в такие блоки нельзя перейти, поэтому их можно использовать для направления сообщений с промо-акциями, для напоминания о каком-либо событии, чтобы не выбивать клиента из основной воронки:

<figure><img src="../../../.gitbook/assets/Снимок экрана 2025-06-26 в 10.03.07.png" alt=""><figcaption></figcaption></figure>

{% hint style="info" %}
Подробнее о работе с блоками "Не состояние" рассказали в статье в [одноименной статье](/broken/pages/-M1G0tS64N7tDTadS8Ao).&#x20;
{% endhint %}

Также существуют другие виды блоков, но основой всех схем чат-бота является блок "Состояние":

<figure><img src="../../../.gitbook/assets/Снимок экрана 2025-06-27 в 10.24.10.png" alt=""><figcaption></figcaption></figure>

В блоке "Состояние" нет условий и в него нельзя перейти, если к нему не проведена стрелка (соединение) от предыдущих блоков.&#x20;

Для построения простейшей схемы чат-бота нам понадобится блок "Начало диалога" для входа в воронку.&#x20;

Шаг 1. Создаем блок "Начало диалога".&#x20;

Для этого кликаем по пустому листу в конструкторе воронок:

<figure><img src="../../../.gitbook/assets/Снимок экрана 2025-04-21 в 13.25.49.png" alt=""><figcaption></figcaption></figure>

{% hint style="success" %}
Полезно знать!&#x20;

Что такое конструкция #{none}?

Конструкция #{none}, указанная по умолчанию в поле ответа, является конструкцией для заполнения поля сообщения (условий и тп). Это значит, что, например, что блок с условием #{none} отработается при направлении клиентом любого сообщения, а если оставить конструкцию в поле сообщения, то можно переместить клиентов в необходимый блок воронки.&#x20;
{% endhint %}

Чтобы сделать блок. который не отправляет сообщение, укажите в поле ответа _#{none} (устанавливается по умолчанию)_

Далее кликните на блок и выберите его тип - "Стартовое условие":

<figure><img src="../../../.gitbook/assets/Снимок экрана 2025-06-27 в 10.26.27.png" alt=""><figcaption></figcaption></figure>

После того как вы выбрали тип блока "Стартовое условие", откроется плашка с настройкой условия. Поскольку это наша первая схема и тестировать мы будем ее в режиме тестирования внутри Сейлбота, то пропишем простое условие "Привет":

<figure><img src="../../../.gitbook/assets/Снимок экрана 2025-06-27 в 10.27.14.png" alt="" width="563"><figcaption></figcaption></figure>

Теперь пропишем сообщение, которое будет отправлять бот, как только получит в чате свое триггерное условие: например, это будет сообщение "Привет, я бот":

<figure><img src="../../../.gitbook/assets/Снимок экрана 2025-06-27 в 10.27.55.png" alt=""><figcaption></figcaption></figure>

Затем обязательно нажмите "Сохранить", чтобы все настройки были применены к блоку:

<figure><img src="../../../.gitbook/assets/Снимок экрана 2025-06-27 в 10.28.23.png" alt=""><figcaption></figcaption></figure>

Шаг 2. Создаем следующий блок.&#x20;

Чтобы создать блок с привязкой (стрелкой), найдем меню дополнительных настроек блока:

<figure><img src="../../../.gitbook/assets/Снимок экрана 2025-06-27 в 10.29.06.png" alt=""><figcaption></figcaption></figure>

В меню дополнительных настроек увидем кнопку "Создать блок ниже", которая поможет создать новый блок "Состояние" с привязкой к блоку "Стартовое условие":

<figure><img src="../../../.gitbook/assets/Снимок экрана 2025-06-27 в 10.30.15.png" alt=""><figcaption></figcaption></figure>

Теперь в воронке уже два блока, соединенных между собой стрелками.

{% hint style="info" %}
Важно знать!

В процессе прохождения по схеме пользователь может находиться только в одном из блоков.&#x20;

Что это значит? Если у вас в боте две разных цепочки сообщений, то пользователь не может проходить две параллельно. Либо проходит по одной, либо по другой.

Если вам нужно прислать отдельное сообщение и не выбить человека из цепочки, используете серые блоки - "Не состояние" и "Не состояние с условием".&#x20;
{% endhint %}

Стрелки - это соединения между блоками, которые направляют клиента далее по схеме воронки. В стрелках в том числе можно прописывать условия, чтобы, например, клиент мог пойти дальше по воронке, осуществив целевые действия: кликнул по кнопке, осуществил оплату и др.&#x20;

Давайте создадим кнопку в блоке "Стартовое условие" (зеленый блок), чтобы клиент перешел в следующий блок.&#x20;

Шаг 3. Создаем кнопку.

Нажмите на зеленый блок "Стартовое условие". В настройках блока вы увидите вкладку "Кнопки":

<figure><img src="../../../.gitbook/assets/Снимок экрана 2025-06-27 в 10.32.01.png" alt=""><figcaption></figcaption></figure>

Нажмите на вкладку, тогда раскроется меню с настройкой кнопки:

<figure><img src="../../../.gitbook/assets/Снимок экрана 2025-06-27 в 10.32.40.png" alt=""><figcaption></figcaption></figure>

Нажмите "+Добавить кнопку", тогда откроется меню с настройками кнопки:

<figure><img src="../../../.gitbook/assets/Снимок экрана 2025-06-26 в 14.09.11.png" alt=""><figcaption></figcaption></figure>

В тексте кнопке пропишите любое название, например, "Нажми меня":

<figure><img src="../../../.gitbook/assets/Снимок экрана 2025-06-26 в 14.09.50.png" alt=""><figcaption></figcaption></figure>

Кликните "Добавить", тогда в настройках блока появится кнопка:

<figure><img src="../../../.gitbook/assets/Снимок экрана 2025-06-27 в 10.33.06.png" alt="" width="563"><figcaption></figcaption></figure>

Кнопка может быть клавиатурной или в тексте. В зависимости от мессенджера, какой-либо вид кнопок не будет работать (например, для whatsapp), поэтому можно поставить "Автоматически" - тогда кнопка будет либо в клавиатуре, либо в тексте, в зависимости от поддержки кнопок в мессенджере:

<figure><img src="../../../.gitbook/assets/Снимок экрана 2025-06-26 в 14.11.03.png" alt="" width="563"><figcaption></figcaption></figure>

И обязательно сохраните настройки блока:

<figure><img src="../../../.gitbook/assets/Снимок экрана 2025-06-27 в 10.33.52.png" alt=""><figcaption></figcaption></figure>

Готово! Вы создали свой первый блок с условием и кнопкой!&#x20;

Шаг 4. Настройка стрелки

Теперь перейдем к настройке стрелки, чтобы при клике на кнопку ваш клиент переходил в следующий блок воронки. Для этого наведите на стрелку и найдите кнопку шестеренки:

<figure><img src="../../../.gitbook/assets/Снимок экрана 2025-06-26 в 14.14.12.png" alt=""><figcaption></figcaption></figure>

Тогда откроются настройки стрелки, где мы укажем название кнопки:

<figure><img src="../../../.gitbook/assets/Снимок экрана 2025-06-26 в 14.14.31.png" alt=""><figcaption><p>В условии стрелки пропишите название кнопки</p></figcaption></figure>

И кликните на "Сохранить":

<figure><img src="../../../.gitbook/assets/Снимок экрана 2025-06-26 в 14.15.36.png" alt=""><figcaption></figcaption></figure>

После сохранения настроек стрелки, вы наглядно увидите, что прописано в условии стрелки: это поможет вам в дальнейшем наглядно видеть, на какой триггер настроен переход из одного блока в другой:

<figure><img src="../../../.gitbook/assets/Снимок экрана 2025-06-26 в 14.16.32.png" alt=""><figcaption></figcaption></figure>

Стрелки можно изгибать.

<figure><img src="../../../.gitbook/assets/Видео-без-названия-—-сделано-в-Clipchamp-_3_.gif" alt="" width="375"><figcaption></figcaption></figure>

Это позволяет увидеть соединения, которые перекрывают друг друга. Для этого ухватите мышкой стрелку в том месте, в котором хотите согнуть стрелку и переместите в нужное место. Количество изгибов не ограничено.

Чтобы удалить лишние изгибы стрелки, дважды кликните левой кнопкой мыши по нужному узлу.

Шаг 5. Блок "Состояние".&#x20;

По умолчанию при клике по полю вы видели, что создавался белый блок "Состояние" - это самый распространенный блок для работы со схемой чат-бота. В нем можно осуществить любые настройки (кроме условий). Именно из блоков "Состояние" будет в большинстве своем состоять Ваша схема чат-бота.&#x20;

<figure><img src="../../../.gitbook/assets/Снимок экрана 2025-06-26 в 14.17.12.png" alt="" width="563"><figcaption></figcaption></figure>

В блок "Состояние", в отличие от блоков с условием, можно попасть только в случае, если в него проведена стрелка от предыдущего блока, либо если Вы направили рассылку клиентам.

Чтобы клиент попадал в блок "Состояние" по какому-либо условию, настройка условия осуществляется в стрелке, как в шаге 4, либо по таймеру.

В текстовом поле блока "Состояние" пропишем сообщение, которое будет отправлять бот клиенту, если клиент нажмет кнопку "Нажми меня":

<figure><img src="../../../.gitbook/assets/Снимок экрана 2025-06-26 в 14.17.41.png" alt=""><figcaption></figcaption></figure>

Обязательно нажмите на "Сохранить" в настройках блока "Состояние".&#x20;

{% hint style="success" %}
Теперь вы создали свою первую воронку чат-бота.&#x20;
{% endhint %}

## Как подключить мессенджеры

После тестирования можно подключить схему к мессенджерам. Для этого в главном меню необходимо перейти в пункт Каналы.

<figure><img src="../../../.gitbook/assets/image (72).png" alt=""><figcaption><p>Виды поддерживаемых мессенджеров</p></figcaption></figure>

Дальше необходимо нажать на кнопку с требуемым мессенджером. О том, как подключить ботов в разных мессенджерах, написано в разделе "[Мессенджеры](/broken/pages/-M6-dPO2gBhwzPgf2pVT)"

### Видео-обзор

{% embed url="https://www.youtube.com/watch?v=ixlAM7UppLk" %}
