# Как создать петлю

Чтобы при направлении сообщения, отличного от условий в стрелках, бот не замолкал, а продолжал работу, добавим петлю.&#x20;

Для этого зациклим вопрос, добавив петлю без условия вокруг блока.&#x20;

{% hint style="info" %}
Полезно знать!

Блоки и соединения без условия в приоритете ниже тех, что с условиями.
{% endhint %}

Для создания петли нажмите на блок, который нужно зациклить, и в открывшейся форме настроек нажмите на многоточие справа в верхнем углу и далее  выберите “Создать петлю”.

<figure><img src="../../../.gitbook/assets/Снимок экрана 2025-06-26 в 14.32.24.png" alt=""><figcaption></figcaption></figure>

{% hint style="success" %}
Как будет работать схема?

На рисунке 1 продемонстрирована схема чат-бота из четырех блоков.&#x20;

1. Блок "Привет, я бот" — приветственный блок, отрабатывается, когда пользователь написал в диалог с ботом; в этом блоке существует кнопка "Нажми меня".
2. Если клиент нажмет на кнопку, он перейдет в следующий блок "Вот ты и нажал на кнопку", в котором также есть кнопки "Да" и "Нет".&#x20;
3. Если клиент ответит на вопрос "Да", то перейдет в блок "Вы жаворонок!".
4. Если клиент ответит на вопрос "Нет", то перейдет в блок "Вы не жаворонок!".&#x20;

Петля нужна для случаев, если клиент не будет нажимать на кнопки и направит любое другое сообщение в боте, которое отличается от условий, описанных в стрелке.



Как собрать схему, рассказали в статье "[Как создать чат-бота](/broken/pages/jUOmUNDpph7DzSK8yyPF)", как добавить в бот варианты ответов, рассказали в статье "[Варианты ответов в боте](/broken/pages/NPxeatuwhkXBwkjCuwFg)"
{% endhint %}

Таким образом, будет создана петля в схеме:

<figure><img src="../../../.gitbook/assets/Снимок экрана 2025-06-26 в 14.33.37.png" alt="" width="563"><figcaption></figcaption></figure>

Теперь если клиент отправит в бот сообщение, отличное от "Да" или "Нет", то ему повторно будет направлено сообщение из второго блока:

<figure><img src="../../../.gitbook/assets/Снимок экрана 2025-04-21 в 15.40.43.png" alt="" width="375"><figcaption></figcaption></figure>

Что делать, если клиент не отвечает на сообщение бота? Можно направлять сообщения по таймеру, чтобы напоминать клиенту, что нужно бы ответить на вопрос.&#x20;
