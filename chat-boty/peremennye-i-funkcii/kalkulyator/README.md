---
description: >-
  Как высчитать математическое выражение с использованием переменных и
  математических функций
---

# Калькулятор

Калькулятор - это поле в Редакторе блока, которое открывается при клике по одноименной вкладке.  В этом поле можно совершать логические или арифметические действия, выполнять функции API- запросов конструктора и доступных интеграций.

В нем можно присвоить(объявить) переменную клиента, перешедшего в данный блок, или назначить значение уже существующим переменным. Например, будет полезно при создании воронки или отслеживания источника трафика.&#x20;

{% hint style="success" %}
О работе с переменными рассказали в [одноименной статье.](/broken/pages/-LxpXZscJeU6Wb2MlqSH)
{% endhint %}

<figure><img src="../../../.gitbook/assets/Снимок экрана 2025-04-18 в 11.08.26.png" alt="" width="563"><figcaption></figcaption></figure>

{% hint style="danger" %}
Коротко о главном:

При работе с калькулятором название переменной не может начинаться с цифры. \
<mark style="color:red;">**Неверно:**</mark> <1\_имя>\
<mark style="color:green;">**Верно:**</mark> <имя\_1>.

Название переменной не может состоять из двух слов, используйте для разделения символ нижнего подчеркивания "\_".\
<mark style="color:red;">**Неверно:**</mark> <Имя клиента>\
<mark style="color:green;">**Верно:**</mark> <Имя\_клиента>

Подробнее читайте в статье "[Переменные](/broken/pages/-LxpXZscJeU6Wb2MlqSH)".
{% endhint %}

{% hint style="success" %}
Быстрый доступ к описаниям функций:

* [математические ](/broken/pages/YKvDgH8Gyfs70ZtOvOF8)
* [Для работы с ссылками](/broken/pages/EDc43pOhHpH3zXtkpiAl)
* [для работы с таблицами Salebot ](/broken/pages/L6lTpoRomqX2vooeMmp6)
* [работы с регулярными выражениями ](/broken/pages/MUNCztH0kSi1LuNryBlu)
* [работы со строками ](/broken/pages/cjRoQmnTKUZrhVIMNTFC)
* [для работы с датами и временем](/broken/pages/-M4rQ-AmC1n9xmWneCZ8)
* [для работы с AI-ассистентом](/broken/pages/sH7i5pd0E8ZjZJa7vIRD)
* [работы с клиентами и CRM](/broken/pages/X4tknFOsd3wxEHal7Ypl#dlya-raboty-s-klientami)
* [для работы с онлайн-записью](/broken/pages/NubGjmQfs3kQXvWPl1Uq)
* [работы с метками Salebot](/broken/pages/SYi1hydnFRfnjPaSMnLM)
* [работы со списками ](/broken/pages/WzhSqrUng3kekDSFZ6Sv)
* [для работы в мессенджерах](/broken/pages/09SDRdLKUDXv0TwX2ahu)
* [для работы с сотрудниками](/broken/pages/zZ9Fd9KkY2Hnd0Ekx5Uw)
* [работы с задачами ](/broken/pages/X4tknFOsd3wxEHal7Ypl#dlya-raboty-s-zadachami)
* [удаления последнего сообщения](/broken/pages/09SDRdLKUDXv0TwX2ahu#dlya-udaleniya-poslednego-soobsheniya)
* [отправки e-mail ](/broken/pages/TPtuT2spoOwcVbVn2qyW#dlya-otpravki-email-soobshenii)
* [проверки условия "if": Если](/broken/pages/57jaf4kgdkdU6RsDb1l4#dlya-proverki-usloviya-if-esli)
* [работы со сторонними API](/broken/pages/-MgzqQUP1TEKbhIUhJQn)
* [работы с датой и временем](/broken/pages/-M4rQ-AmC1n9xmWneCZ8)
* [работы с маркетплейсами](/broken/pages/oieC3bxnmf27EnLJndqy)
{% endhint %}

## **Как использовать калькулятор в конструкторе**

{% hint style="danger" %}
При обращении к переменной не нужно использовать конструкцию #{}
{% endhint %}

Пример подсчета значения переменной в поле Калькулятор:

<figure><img src="../../../.gitbook/assets/Снимок экрана 2025-07-22 в 11.02.31.png" alt=""><figcaption></figcaption></figure>

Переменные можно записывать просто названием или через #{}.  Все переменные автоматически будут приводиться к числам с плавающей запятой.

Калькулятор поддерживает все необходимые логические и арифметические операции.

### Комментарии в калькуляторе

Для комментирования текста используйте **/\* текст комментария \*/**.  Данное сочетание /\* \*/  (теги) позволяют делать в калькуляторе как однострочные, так и многострочные комментарии:

<figure><img src="../../../.gitbook/assets/Снимок экрана 2025-07-22 в 10.48.03.png" alt=""><figcaption></figcaption></figure>

Не забывайте, что комментарий нужно обязательно закрыть тегом <mark style="color:red;">**\*/**</mark> на конце, <mark style="color:red;">**поскольку иначе комментарий продолжится с новой строки:**</mark>

<figure><img src="../../../.gitbook/assets/Снимок экрана 2025-07-22 в 10.57.14.png" alt=""><figcaption></figcaption></figure>

Не забывайте ставить закрывающий тег для комментария, даже если комментарий является последней строкой поля Калькулятор:

<figure><img src="../../../.gitbook/assets/Снимок экрана 2025-07-22 в 11.49.08.png" alt=""><figcaption></figcaption></figure>

{% hint style="warning" %}
Не располагайте комментарии друг за другом, между ними должна быть обязательно хотя бы пустая строка
{% endhint %}

### **Константы**

"**E**": число Эйлера e&#x20;

### **Поддерживаемые операторы**

"**+**": сложение&#x20;

"**-**"': вычитание&#x20;

"**\***" _умножение_&#x20;

"**/**": _деление_

"**%**'"_: остаток от деления_&#x20;

"**^**" "**\*\***": возведение в степень&#x20;

"**==**" "**!=**" "**>**" "**<**" "**>=**" "**<=**": операторы сравнения&#x20;

"**and**" "**AND**" "**&&**": логическое И&#x20;

"**or**" "**OR**" "**||**": логическое ИЛИ

{% hint style="warning" %}
<mark style="color:red;">**Важно!**</mark> Логические условия с переменными необходимо писать в поле <mark style="color:red;">**Переменная для сравнения**</mark>**,** а не в Условие!
{% endhint %}

Например, на рисунке ниже переход по стрелке осуществится, если переменная Номер\_телефона заполнена:

<figure><img src="../../../.gitbook/assets/Снимок экрана 2025-07-22 в 11.04.11.png" alt="" width="563"><figcaption></figcaption></figure>

{% hint style="warning" %}
Важно!&#x20;

Если вы сравниваете переменную со значением в кавычках, то проверьте, нет ли пробела между кавычкой и значением, иначе блок может не отработаться или отработаться некорректно!

<mark style="color:green;">**Верно**</mark> (без пробела <mark style="color:red;">**перед кавычкой**</mark> и <mark style="color:red;">**после значения my\_new\_bot**</mark>):

<img src="../../../.gitbook/assets/Снимок экрана 2025-07-22 в 11.07.42.png" alt="" data-size="original">



Неверно (с пробелом перед кавычкой):

<img src="../../../.gitbook/assets/Снимок экрана 2025-07-22 в 11.08.05.png" alt="" data-size="original">


{% endhint %}
