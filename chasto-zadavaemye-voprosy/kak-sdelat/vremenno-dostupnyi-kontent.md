# Временно доступный контент

{% hint style="warning" %}
Важно помнить:

1. Ссылки создаются в калькуляторе;
2. Ссылка уникальна для каждого диалога, их нельзя пересылать;
3. Внутри ссылок работают переменные.&#x20;
{% endhint %}

Для ограничения доступа к вашим ссылкам по времени, можно использовать прокси-ссылки через добавление в кнопки блоков:

Шаг 1. Для этого в калькуляторе добавим переменную, например, link, в которой сохраним прокси-ссылку (см. пример на рис. 2)

Шаг 2. Добавим кнопку в блоке, где в настройках кнопки вставим переменную в поле URL:

<figure><img src="../../.gitbook/assets/Снимок экрана 2025-07-07 в 12.13.24.png" alt="" width="563"><figcaption></figcaption></figure>

## Короткие ссылки с уведомлением о клике

### Одноразовые ссылки

Если в функции "proxy", "proxy\_date", "prox&#x79;_\__&#x74;imeout" дополнительно передать еще один параметр, не равный нулю, то ссылку будет одноразовая.

<figure><img src="../../.gitbook/assets/Снимок экрана 2025-07-07 в 12.17.37.png" alt=""><figcaption><p>Рис. 2</p></figcaption></figure>

На второй переход по ссылке пользователь увидит такое сообщение:

![Рис. 3](<../../.gitbook/assets/image (390).png>)

### Ссылки с таймером

proxy\_date() - в данную функцию передается ссылка, при этом функция возвращает ссылку с уведомлением о клике.&#x20;

Вторым и третьим параметром идут дата и время, когда ссылка перестанет действовать.  Если передать после минут еще один параметр, не равный нулю, то ссылка будет одноразовая

<figure><img src="../../.gitbook/assets/Снимок экрана 2025-07-07 в 12.19.02.png" alt=""><figcaption><p>Рис. 4</p></figcaption></figure>

После того как истечет срок ссылки, человек увидит это сообщение, перейдя по ней.

![Рис. 5](<../../.gitbook/assets/image (391).png>)

### Ограниченные по времени ссылки

proxy\_timeout() - в данную функцию передается ссылка, функция возвращает ссылку с уведомлением о клике. дополнительный параметр количество минут, которые действует ссылка. Если передать после минут еще один параметр, не равный нулю, то ссылку будет одноразовая

<figure><img src="../../.gitbook/assets/Снимок экрана 2025-07-07 в 12.20.44.png" alt=""><figcaption><p>Рис. 6</p></figcaption></figure>

![Рис. 7](<../../.gitbook/assets/image (392).png>)

## Короткие ссылки без уведомления о клике

Все короткие ссылки можно сделать без колбека, то есть классическими короткими ссылками.

Для этого есть функции с такими же параметрами, но не вызывающие колбек.

<table><thead><tr><th width="358">С колбеком</th><th>Без колбека</th></tr></thead><tbody><tr><td><strong>proxy</strong> </td><td><strong>short</strong> </td></tr><tr><td><strong>proxy_timeout</strong></td><td><strong>short_timeout</strong> </td></tr><tr><td><strong>proxy_date</strong></td><td><strong>short_date</strong> </td></tr></tbody></table>

Соответственно, если вам необходимо воспользоваться короткими ссылками без колбека, то аналогично функциям прокси-ссылок воспользуйтесь переменной, в которую сохраним ссылку:

<figure><img src="../../.gitbook/assets/Снимок экрана 2025-07-07 в 12.21.57.png" alt=""><figcaption><p>Рис. 8</p></figcaption></figure>

## Умные прокси-ссылки

Это те же обычные прокси-ссылки: называются "умными", поскольку позволяют передавать параметры через #{}. При переходе по такой ссылке вместо параметров буду взяты переменные с соответствующим названием из переменных клиента. Так вы сможете направить клиента в нужный раздел сайта, не изменяя саму ссылку:

<figure><img src="../../.gitbook/assets/Снимок экрана 2025-07-07 в 12.23.05.png" alt=""><figcaption><p>Рис. 9</p></figcaption></figure>

`url = proxy('https://yandex.ru/search/?clid=9582&text=salebot&lr=53&p=#{page}')`&#x20;

`page = 0`&#x20;

В данном примере (рис. 8) создаем ссылку с одним параметром, но их может быть любое количество.&#x20;

{% hint style="warning" %}
Будьте внимательны! Важно заранее продумать заполнение параметров в воронке, чтобы "умная" прокси-ссылка работала без сбоев. Свое значение параметр должен получить до того, как ссылка предоставляется клиенту.&#x20;
{% endhint %}

При грамотном построении воронки достаточно будет изменять значения необходимых переменных у клиента  и при переходе по ссылке клиент будет попадать туда, куда требуется по одной и той же ссылке.

## Удаление ссылок

**remove\_links()** - деактивация всех коротких ссылок, отправленных клиенту\
**remove\_one\_time\_links()** - деактивация всех одноразовых ссылок, отправленных клиенту\
**remove\_timer\_links()** - деактивация всех временно доступных ссылок, отправленных клиенту

<figure><img src="../../.gitbook/assets/Снимок экрана 2025-07-07 в 12.24.50.png" alt=""><figcaption><p>Рис. 10</p></figcaption></figure>

## Пример использования в кнопке

Зададим одноразовую ссылку в калькуляторе в переменной 'link':

<figure><img src="../../.gitbook/assets/Снимок экрана 2025-07-07 в 12.09.35.png" alt=""><figcaption><p>Рис. 11. Назначим переменную link</p></figcaption></figure>

Далее переменную передадим с интерполяцией (через конструкцию #{}) в настройках кнопки:

<figure><img src="../../.gitbook/assets/Снимок экрана 2025-07-07 в 12.12.17.png" alt=""><figcaption><p>Рис. 12. Настройки кнопки</p></figcaption></figure>
