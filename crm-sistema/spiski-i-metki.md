# Списки и метки

В разделе "Списки"  вы можете создавать, редактировать и использовать кастомные списки клиентов для дальнейшей автоматизации. Добавление пользователей в список можно настроить автоматически через шаги бота — при выполнении определённых условий или действий пользователя. Списки могут использоваться как для фильтрации и сегментации клиентов внутри одного проекта, так и для экспорта данных — вы можете выгрузить список в файл и загрузить в другой проект Salebot.

<figure><img src="../.gitbook/assets/Снимок экрана 2025-07-11 в 14.13.11.png" alt=""><figcaption></figcaption></figure>

#### Преимущества использования списков:

* Автоматическое пополнение или удаление клиентов из списков через логику бота;
* Переносимость: списки можно экспортировать и импортировать между проектами;
* Отправление рассылок или определенных сообщений из блока воронки по фильтрованным спискам клиентов.

Использование списков упрощает работу с сегментами аудитории и делает автоматизацию взаимодействия с клиентами более точной и эффективной.

## Как создать список

Списки создаются в одноименном разделе во вкладке "Списки":

<figure><img src="../.gitbook/assets/Снимок экрана 2025-07-11 в 14.14.13.png" alt=""><figcaption></figcaption></figure>

Кликните по кнопке "Создать списки", чтобы открылось окно с полями ввода, где нужно прописать название списка и при необходимости выбрать папку (если они уже есть), в который нужно добавить список:

<figure><img src="../.gitbook/assets/Снимок экрана 2025-07-11 в 14.14.41.png" alt=""><figcaption></figcaption></figure>

В разделе Списки можно отсортировать списки по ID списков или по алфавиту (по названию):

<figure><img src="../.gitbook/assets/Снимок экрана 2025-07-11 в 14.15.28.png" alt=""><figcaption></figcaption></figure>

Удобство списков клиентов заключается в гибкости возможностей действий над списками. Например, добавление клиента в несколько списков одновременно.

Списки можно группировать в папки, можно отредактировать наименование списка, удалить список (при этом клиенты останутся в базе) или удалить из проекта клиентов указанного списка.

<figure><img src="../.gitbook/assets/Снимок экрана 2025-07-11 в 14.16.32.png" alt=""><figcaption></figcaption></figure>

Добавление и удаление из списка работают с набором фильтров, что позволяет добавлять/удалять клиентов используя тип фильтра как из формы, так и из файла. Подробнее [ниже](spiski-i-metki.md#kak-vruchnuyu-rabotat-so-spiskami).

Чтобы просмотреть клиентов из списка, нажмите на список, чтобы открылось правое меню, затем кликните на кнопку "К списку клиентов":

<figure><img src="../.gitbook/assets/Снимок экрана 2025-07-11 в 14.34.17.png" alt="" width="563"><figcaption></figcaption></figure>

Тогда откроется новое окно из раздела "Клиенты", где вы увидите пользователей, находящимися в списке:

<figure><img src="../.gitbook/assets/Снимок экрана 2025-07-11 в 14.36.12.png" alt="" width="375"><figcaption></figcaption></figure>

## Как автоматизировать работу со списками

Можно автоматически добавлять, удалять и перемещать клиентов в списки при работе чат-бота.

Набор команд — действий над списками — вы найдете в любом блоке конструктора:

<figure><img src="../.gitbook/assets/Снимок экрана 2025-04-30 в 10.28.22.png" alt=""><figcaption></figcaption></figure>

При включении раздела Действия станет возможным выбрать действия над списками:

<figure><img src="../.gitbook/assets/Снимок экрана 2025-04-30 в 10.29.49.png" alt="" width="563"><figcaption></figcaption></figure>

После выбора действия станет возможным выбор конкретного списка, с которым необходимо произвести указанное действие. В одном блоке можно указать несколько разных действий:

<figure><img src="../.gitbook/assets/Снимок экрана 2025-04-30 в 10.30.44.png" alt="" width="563"><figcaption></figcaption></figure>

Количество действий в одном блоке не ограничено:

<figure><img src="../.gitbook/assets/Снимок экрана 2025-04-30 в 10.31.43.png" alt="" width="563"><figcaption></figcaption></figure>

Выполняются команды по порядку следования в настройках блока.

### **Проверка наличия человека в списке**

<mark style="color:green;">**Для проверки наличия клиента**</mark> в списке можно использовать функцию  <mark style="color:green;">**`inlist(номер_списка)`**</mark> в поле <mark style="color:green;">**Переменная для сравнения**</mark> в блоках и стрелках

Результат выполнения функции- булево значение (True или False).

`inlist(номер списка) == True  -` клиент ЕСТЬ в списке или

`inlist(номер списка) == False -` клиента НЕТ в списке.

<figure><img src="../.gitbook/assets/Снимок экрана 2025-04-30 в 10.37.31.png" alt=""><figcaption></figcaption></figure>

Номер списка можно найти, кликнув по необходимому списку. Тогда откроется правое меню с информацией о списке:

<figure><img src="../.gitbook/assets/Снимок экрана 2025-07-11 в 14.18.44.png" alt=""><figcaption></figcaption></figure>

Тогда блоки отработаются так:

<figure><img src="../.gitbook/assets/Снимок экрана 2025-04-30 в 10.39.20.png" alt=""><figcaption></figcaption></figure>

### Другие функции работы со списками:

Дальнейшие команды вводятся в поле "Калькулятор" любого блока:

<figure><img src="../.gitbook/assets/Снимок экрана 2025-04-30 в 10.40.50.png" alt=""><figcaption></figcaption></figure>

**Добавить в список**

`add_to_list(номер списка)`

<figure><img src="../.gitbook/assets/Снимок экрана 2025-04-30 в 10.51.04.png" alt="" width="563"><figcaption><p>Добавление в список</p></figcaption></figure>

Номер списка может быть передан в виде массива, тогда функция примет вид: `add_to_list('[list1,list2]')`

**Удалить из списка**

`remove_from_list(номер списка)`

<figure><img src="../.gitbook/assets/Снимок экрана 2025-04-30 в 10.55.35.png" alt="" width="563"><figcaption><p>Удаление из списка</p></figcaption></figure>

Номер списка может быть передан в виде массива, тогда функция примет вид: `remove_from_list('[list1,list2]')`

**Переместить в список**

`move_to_list(номер списка)`

<figure><img src="../.gitbook/assets/Снимок экрана 2025-04-30 в 10.56.44.png" alt="" width="563"><figcaption><p>Перемещение в список</p></figcaption></figure>

При перемещении человек будет удален из всех списков и добавлен в выбранный.

#### Проверка размера списка

`list_size(номер списка)`

<figure><img src="../.gitbook/assets/Снимок экрана 2025-04-30 в 10.57.32.png" alt="" width="375"><figcaption><p>Проверка размера списка</p></figcaption></figure>

Вернет количество людей в списке.

Больше возможностей функций калькулятора рассмотрено в разделе [Калькулятор - Работа со списками](/broken/pages/-M0wi0AByiQblPfnYkJI#dlya-raboty-so-spiskami)

## Как вручную работать со списками

В каждом списке есть кнопки для **добавления** и **исключения** клиентов из данного списка, **запуска рассылки** из списка и возможность **скачать список** клиентов файлом. В контекстном меню добавлены команды для **добавления списка в папку** и **редактирования списка.** А также кнопки **удаления списка** (клиенты остаются в проекте без списка) и **удаления участников списка из проекта**

{% hint style="danger" %}
**Будьте внимательны**! Команда "**удаления участников списка из проекта"** полностью удаляет клиентов из проекта без возможности восстановления!
{% endhint %}

### Добавить клиентов в список

<figure><img src="../.gitbook/assets/Снимок экрана 2025-07-11 в 14.24.38.png" alt="" width="375"><figcaption></figcaption></figure>

В список клиентов можно вручную <mark style="color:green;">**загрузить СУЩЕСТВУЮЩИХ клиентов**</mark>, отфильтровав их в форме, из файла или из другого списка.

{% hint style="warning" %}
ВАЖНО! При добавлении <mark style="color:green;">**существующих**</mark> клиентов в список из файла в первой колонке должны быть указаны внутренние  ID идентификаторы клиентов (переменная client\_id).&#x20;
{% endhint %}

#### Добавление клиентов из файла:

1. Выберите тип фильтра "Клиенты из файла":

<figure><img src="../.gitbook/assets/Снимок экрана 2025-04-30 в 11.04.33.png" alt="" width="563"><figcaption></figcaption></figure>

2. Далее загрузите список с клиентами в формате .CVS:

<figure><img src="../.gitbook/assets/Снимок экрана 2025-04-30 в 11.04.25.png" alt="" width="563"><figcaption></figcaption></figure>

Чтобы <mark style="color:green;">**добавить НОВЫХ клиентов**</mark> в определенный список перейдите в раздел Каналы. Затем нажмите на кнопку "Загрузить список клиентов" и выберите список, в который хотите загрузить клиентов.

### Исключить клиентов из списка

По тому же принципу можно удалить клиентов из списка: нажмите на кнопку "— Исключить из списка" и выберите фильтры (при необходимости):

<figure><img src="../.gitbook/assets/Снимок экрана 2025-07-11 в 14.26.21.png" alt="" width="375"><figcaption></figcaption></figure>

И кажите необходимые фильтры для удаления определенной категории клиентов ИЗ этого списка (не из базы клиентов!):

{% hint style="warning" %}
<mark style="color:red;">**Будьте внимательны при заполнении формы**</mark>.&#x20;

**Если** в форме Исключить из списка **не заполнены поля фильтра**, то из списка **будут удалены все клиенты этого списка**.&#x20;

Если Вам нужно сделать частичное удаление, то заполните соответствующие фильтры:

* Фильтр по подключенным мессенджерам - выбор конкретного бота
* Для клиентов, находящихся в состоянии, - выбор состояния - номер блока в воронке. Может быть указано несколько блоков
* По переменным сделки - указание конкретного значения переменной для клиента
* Зарегистрировались до/после - указание интересующей даты для выбора клиентов
* За исключением списков. Если указаны номера списков, то из текущего списка будут удалены все клиенты, которые не состоят ни в одном из списков исключения.
{% endhint %}

## Создать рассылку

При клике на список, в правом меню вы также увидите кнопку "Создать рассылку":

<figure><img src="../.gitbook/assets/Снимок экрана 2025-07-11 в 14.31.54.png" alt=""><figcaption></figcaption></figure>

Можно создать рассылку как в мессенджеры, так и в email (если подключена почта в проекте):

<figure><img src="../.gitbook/assets/Снимок экрана 2025-07-11 в 14.33.08.png" alt="" width="563"><figcaption></figcaption></figure>

## Как перенести клиентов из других платформ

При загрузке клиентов в разделе Каналы из других платформ вы можете выбрать один или несколько списков, куда попадут клиенты после загрузки.

Для этого перейдите в раздел "Каналы" и выберите подключенный мессенджер, куда необходимо загрузить клиентов:

<figure><img src="../.gitbook/assets/Снимок экрана 2025-04-30 в 11.17.11.png" alt=""><figcaption></figcaption></figure>

Кликните по кнопке "Загрузить клиентов" и загрузите список, настроив необходимые поля загрузки (кодировку, в какой список добавить клиентов и тп):

<figure><img src="../.gitbook/assets/Снимок экрана 2025-04-30 в 11.19.51.png" alt="" width="563"><figcaption></figcaption></figure>
